# üìä –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–µ–∫—Ç—É FinDotBot

## üéØ –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

**FinDotBot** ‚Äî —Ü–µ Telegram-–±–æ—Ç –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—ñ–º–µ–π–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é:
- üìù –¢–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç
- üé§ –ì–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è (—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é)
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É Google Sheets
- üìà –î–µ—Ç–∞–ª—å–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–∞ –∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ
- üí∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—ñ–º–µ–π–Ω–∏–º –±—é–¥–∂–µ—Ç–æ–º

–ü—Ä–æ–µ–∫—Ç —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ **Render** –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
FinDotBot/
‚îú‚îÄ‚îÄ üì± –û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ finedot_bot.py              # –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å –±–æ—Ç–∞ (1800+ —Ä—è–¥–∫—ñ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îÇ   ‚îú‚îÄ‚îÄ run.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –∑ health check —Å–µ—Ä–≤–µ—Ä–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ health_server.py            # Health check —Å–µ—Ä–≤–µ—Ä –¥–ª—è Render
‚îÇ   ‚îî‚îÄ‚îÄ keepalive.py                # Anti-sleep –º–µ—Ö–∞–Ω—ñ–∑–º
‚îÇ
‚îú‚îÄ‚îÄ üê≥ –î–µ–ø–ª–æ–π–º–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑ –∑ Python 3.9 + FFmpeg
‚îÇ   ‚îú‚îÄ‚îÄ render.yaml                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è Render
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt            # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îÇ
‚îú‚îÄ‚îÄ üîë –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è  
‚îÇ   ‚îî‚îÄ‚îÄ findot-sheets-sync-acd9b0292ce3.json  # Google Service Account
‚îÇ
‚îú‚îÄ‚îÄ üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ README.md                   # –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
‚îÇ
‚îî‚îÄ‚îÄ üóÑÔ∏è –ê—Ä—Ö—ñ–≤ (bukup/)              # –†–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó —Ç–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏—Ü—å–∫—ñ –≤–µ—Ä—Å—ñ—ó
    ‚îú‚îÄ‚îÄ –¢–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è.docx
    ‚îú‚îÄ‚îÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è Fin DotBot.docx
    ‚îî‚îÄ‚îÄ [20+ —Ñ–∞–π–ª—ñ–≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–µ—Ä—Å—ñ–π]
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.9** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞ –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- **python-telegram-bot 20.7** ‚Äî Telegram Bot API
- **aiohttp 3.9.1** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π HTTP —Å–µ—Ä–≤–µ—Ä

### Google Cloud Services
- **Google Sheets API** ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç
- **Google Speech-to-Text API** ‚Äî —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å—É
- **Service Account** ‚Äî –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è API

### –ú—É–ª—å—Ç–∏–º–µ–¥—ñ–∞
- **FFmpeg** ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –∞—É–¥—ñ–æ (OGG ‚Üí WAV)
- **google-cloud-speech 2.21.0** ‚Äî –æ–±—Ä–æ–±–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### –î–µ–ø–ª–æ–π–º–µ–Ω—Ç
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **Render** ‚Äî —Ö–º–∞—Ä–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Health Check** ‚Äî –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—É

---

## üìã –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –º–æ–¥—É–ª—ñ–≤

### 1. `finedot_bot.py` ‚Äî –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å (1800+ —Ä—è–¥–∫—ñ–≤)

#### üèõÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

##### **ConnectionMonitor** (—Ä—è–¥–∫–∏ 50-67)
```python
class ConnectionMonitor:
    def __init__(self):
        self.start_time = time.time()
        self.request_count = 0
        self.error_count = 0
```
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑'—î–¥–Ω–∞–Ω—å —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–æ–±–æ—Ç–∏
- –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–ø–∏—Ç—ñ–≤, –ø–æ–º–∏–ª–æ–∫ —Ç–∞ uptime
- –õ–æ–≥—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–∂–Ω—ñ 100 –∑–∞–ø–∏—Ç—ñ–≤

##### **–ë–µ–∑–ø–µ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó** (—Ä—è–¥–∫–∏ 156-250)
```python
async def safe_bot_operation(operation, max_retries=3, base_delay=1)
```
- –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –∑ retry –ª–æ–≥—ñ–∫–æ—é
- Exponential backoff —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è
- –û–±—Ä–æ–±–∫–∞ Telegram API –ø–æ–º–∏–ª–æ–∫ (TimedOut, NetworkError, Conflict)

#### üìä –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –±–ª–æ–∫–∏:

##### **1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**
- **Reply –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∞**: –ü–æ—Å—Ç—ñ–π–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üü© üìã –ú–ï–ù–Æ üìã üü©"
- **Inline –º–µ–Ω—é**: 6-—Ä—ñ–≤–Ω–µ–≤–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è –∫–æ–º–∞–Ω–¥
- **–ù–∞–≤—ñ–≥–∞—Ü—ñ—è**: –ö–Ω–æ–ø–∫–∏ "‚Üê –ù–∞–∑–∞–¥" —Ç–∞ "‚úñÔ∏è –ó–∞–∫—Ä–∏—Ç–∏"

##### **2. –û–±—Ä–æ–±–∫–∞ –≤–∏—Ç—Ä–∞—Ç**
- **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç—É**: –ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–¥–æ 3 —Å–ª—ñ–≤) + –°—É–º–∞ + –ö–æ–º–µ–Ω—Ç–∞—Ä
- **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è**: Title Case –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º –ø—Ä–∏–π–º–µ–Ω–Ω–∏–∫—ñ–≤
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö

##### **3. –ì–æ–ª–æ—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** (—Ä—è–¥–∫–∏ 1751-1834)
```python
async def handle_voice(update: Update, context: ContextTypes.DEFAULT_TYPE):
```
**–ï—Ç–∞–ø–∏ –æ–±—Ä–æ–±–∫–∏:**
1. –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ (‚â§60 —Å–µ–∫)
2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è OGG —Ñ–∞–π–ª—É
3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —á–µ—Ä–µ–∑ FFmpeg: OGG ‚Üí WAV (16kHz, –º–æ–Ω–æ)
4. –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Google Speech-to-Text (uk-UA)
5. –û–±—Ä–æ–±–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —è–∫ —Ç–µ–∫—Å—Ç–æ–≤–æ—ó –≤–∏—Ç—Ä–∞—Ç–∏

##### **4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å**
```python
def generate_stats_message(expenses, period_name="–ø–µ—Ä—ñ–æ–¥", username=None):
```
**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑ —Ä–æ–∑–±–∏–≤–∫–æ—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –°—ñ–º–µ–π–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä—ñ–æ–¥–∏ (–¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å/—Ä—ñ–∫)
- –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

##### **5. –ë—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è** (—Ä—è–¥–∫–∏ 1200-1350)
```python
async def budget_status(update: Update, context: ContextTypes.DEFAULT_TYPE):
```
**–§—É–Ω–∫—Ü—ñ—ó:**
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—ñ–º–µ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç—É
- –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±—é–¥–∂–µ—Ç—É
- –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–µ–Ω–Ω–æ–≥–æ –ª—ñ–º—ñ—Ç—É
- –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤–∏—Ç—Ä–∞—Ç

##### **6. Google Sheets —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** (—Ä—è–¥–∫–∏ 272-436)
```python
def get_all_expenses():
    """–û—Ç—Ä–∏–º—É—î –≤—Å—ñ –∑–∞–ø–∏—Å–∏ –≤–∏—Ç—Ä–∞—Ç –∑ Google Sheets"""
```
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:**
| –î–∞—Ç–∞ | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –°—É–º–∞ | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á | –ö–æ–º–µ–Ω—Ç–∞—Ä |
|------|-----------|------|------------|----------|
| 2024-01-15 14:30:00 | –á–∂–∞ | 250 | username | –û–±—ñ–¥ —É —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ñ |

**–û–ø–µ—Ä–∞—Ü—ñ—ó:**
- –ß–∏—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Å—ñ–≤
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –≤–∏—Ç—Ä–∞—Ç
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤ (undo)
- –ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ —ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω–∏—Ö
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –ø–µ—Ä—ñ–æ–¥–∞–º–∏

### 2. `config.py` ‚Äî –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

#### üîß –ì—Ä—É–ø–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:

##### **Telegram Bot**
```python
TOKEN = os.getenv('TOKEN', '–≤–∞—à_telegram_bot_token')
```

##### **Google Services**
```python
SPREADSHEET_ID = os.getenv('SPREADSHEET_ID', '–≤–∞—à_google_sheets_id')
SERVICE_ACCOUNT_JSON = os.getenv('SERVICE_ACCOUNT_JSON')
SPEECH_LANGUAGE = os.getenv('SPEECH_LANGUAGE', 'uk-UA')
```

##### **Render –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç**
```python
HEALTH_CHECK_PORT = int(os.getenv('PORT', '10000'))
RENDER_URL = os.getenv('RENDER_URL', 'https://findotbot.onrender.com')
SELF_PING_INTERVAL = int(os.getenv('SELF_PING_INTERVAL', '600'))
```

##### **–î–∏–Ω–∞–º—ñ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**
```python
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è service account —Ñ–∞–π–ª—É –∑ –∑–º—ñ–Ω–Ω–æ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
if SERVICE_ACCOUNT_JSON:
    service_account_info = json.loads(SERVICE_ACCOUNT_JSON)
    with open(SERVICE_ACCOUNT_FILE, 'w') as f:
        json.dump(service_account_info, f)
```

### 3. `run.py` ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É

#### üöÄ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–ø—É—Å–∫—É:

```python
async def run_bot():
    # 1. –ó–∞–ø—É—Å–∫ health check —Å–µ—Ä–≤–µ—Ä–∞
    await start_health_server()
    
    # 2. –ó–∞–ø—É—Å–∫ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
    await main()
```

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫ –¥–≤–æ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- Graceful shutdown –∑ signal handlers
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –û–±—Ä–æ–±–∫–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å (SIGTERM, SIGINT)

### 4. `health_server.py` ‚Äî –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

#### üè• Health Check —Å–µ—Ä–≤—ñ—Å:

```python
async def health_handler(request):
    return web.json_response({
        "status": "healthy",
        "service": "FinDotBot",
        "timestamp": asyncio.get_event_loop().time()
    })
```

**–ï–Ω–¥–ø–æ–π–Ω—Ç–∏:**
- `GET /health` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—É
- `GET /` ‚Äî root —Ç–∞–∫–æ–∂ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î

### 5. `keepalive.py` ‚Äî Anti-sleep

#### üí§ –ú–µ—Ö–∞–Ω—ñ–∑–º —É—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:

```python
async def keep_render_awake():
    while True:
        await asyncio.sleep(600)  # –ö–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω
        # –ü—ñ–Ω–≥ –≤–ª–∞—Å–Ω–æ–≥–æ health check
        async with session.get(f"{service_url}/health") as response:
```

---

## üöÄ –î–µ–ø–ª–æ–π–º–µ–Ω—Ç –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```dockerfile
FROM python:3.9-slim

# –°–∏—Å—Ç–µ–º–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
RUN apt-get update && apt-get install -y ffmpeg

# Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ  
RUN pip install --no-cache-dir -r requirements.txt

# –ó–∞–ø—É—Å–∫
CMD ["python", "run.py"]
```

### Render –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```yaml
services:
  - type: web
    name: finedot-bot
    env: docker
    plan: free
    healthCheckPath: /health
    envVars:
      - key: TOKEN
      - key: SPREADSHEET_ID  
      - key: SERVICE_ACCOUNT_JSON
      - key: SPEECH_LANGUAGE
        value: uk-UA
```

---

## üîê –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å

### 1. –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- **Retry –ª–æ–≥—ñ–∫–∞** –∑ exponential backoff
- **Circuit breaker** –¥–ª—è Google API
- **Graceful degradation** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—ñ–≤

### 2. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- **Connection monitoring** –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **Health check** –¥–ª—è Render
- **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

### 3. –í—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å
- **Auto-restart** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö
- **Keep-alive** –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è Render free tier
- **–¢–∞–π–º-–∞—É—Ç–∏** –¥–ª—è –≤—Å—ñ—Ö –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –≤–∏–∫–ª–∏–∫—ñ–≤

---

## üìä –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### 1. –í–≤–µ–¥–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç

#### –¢–µ–∫—Å—Ç–æ–≤–µ –≤–≤–µ–¥–µ–Ω–Ω—è:
```
–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –°—É–º–∞ –ö–æ–º–µ–Ω—Ç–∞—Ä
–á–∂–∞ 250 –û–±—ñ–¥ —É —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ñ
–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç 50
```

#### –ì–æ–ª–æ—Å–æ–≤–µ –≤–≤–µ–¥–µ–Ω–Ω—è:
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ (uk-UA)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –∞—É–¥—ñ–æ
- –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Google Speech-to-Text

### 2. –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- `/stats` ‚Äî –º—ñ—Å—è—á–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/today`, `/week`, `/month`, `/year` ‚Äî –∑–∞ –ø–µ—Ä—ñ–æ–¥–∞–º–∏
- `/mystats` ‚Äî –æ—Å–æ–±–∏—Å—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/top` ‚Äî —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

#### –°—ñ–º–µ–π–Ω–∏–π –±—é–¥–∂–µ—Ç:
- `/family` ‚Äî –∑–∞–≥–∞–ª—å–Ω–∏–π —Å—ñ–º–µ–π–Ω–∏–π –±—é–¥–∂–µ—Ç
- `/compare` ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- `/whospent` ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –≤–∏—Ç—Ä–∞—Ç

#### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:
- `/undo` ‚Äî —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∑–∞–ø–∏—Å—É
- `/ignore` ‚Äî –ø–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ —ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω–∏–π
- `/recent` ‚Äî –æ—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏

#### –ë—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è:
- `/budget [—Å—É–º–∞]` ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –±—é–¥–∂–µ—Ç
- `/budget_status` ‚Äî —Å—Ç–∞—Ç—É—Å –∑ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–æ–º

### 3. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é:
```
üü© üìã –ú–ï–ù–Æ üìã üü©
‚îú‚îÄ‚îÄ üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º—ñ—Å—è—Ü—å
‚îÇ   ‚îî‚îÄ‚îÄ üìù –û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏  
‚îú‚îÄ‚îÄ üë´ –°—ñ–º–µ–π–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ üí∞ –°—ñ–º–µ–π–Ω–∏–π –±—é–¥–∂–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ‚öñÔ∏è –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç
‚îÇ   ‚îî‚îÄ‚îÄ üèÜ –•—Ç–æ –±—ñ–ª—å—à–µ –≤–∏—Ç—Ä–∞—Ç–∏–≤
‚îú‚îÄ‚îÄ üìÖ –ó–∞ –ø–µ—Ä—ñ–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìä –°—å–æ–≥–æ–¥–Ω—ñ/–¢–∏–∂–¥–µ–Ω—å/–ú—ñ—Å—è—Ü—å
‚îÇ   ‚îî‚îÄ‚îÄ üîù –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
‚îú‚îÄ‚îÄ üí∞ –ë—é–¥–∂–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ üìä –°—Ç–∞—Ç—É—Å –±—é–¥–∂–µ—Ç—É
‚îÇ   ‚îî‚îÄ‚îÄ üí∞ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –±—é–¥–∂–µ—Ç
‚îú‚îÄ‚îÄ üõ†Ô∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ ‚Ü©Ô∏è –°–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ üö´ –ü–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ —ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω–∏–π
‚îî‚îÄ‚îÄ ‚ùì –î–æ–≤—ñ–¥–∫–∞
```

---

## üéØ –ö–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### 1. **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å**
- –ß—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π
- –ù–µ–∑–∞–ª–µ–∂–Ω—ñ –º–æ–¥—É–ª—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –õ–µ–≥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

### 2. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**  
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- Connection pooling –¥–ª—è API
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 3. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**
- –ú–Ω–æ–∂–∏–Ω–Ω—ñ —Ä—ñ–≤–Ω—ñ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤
- –î–µ—Ç–∞–ª—å–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### 4. **–ó—Ä—É—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**
- –Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –∫–Ω–æ–ø–∫–∞–º–∏
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥
- –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞)

### 5. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**
- –ë–µ–∑—à–æ–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ Google Sheets
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —Ä–æ–∑–≤–∏—Ç–∫—É

### 1. –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- –î–æ–¥–∞–≤–∞–Ω–Ω—è Redis –∫–µ—à—É –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏  
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞–º—ñ—Å—Ç—å Google Sheets –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è GraphQL API –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

### 2. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
- –ï–∫—Å–ø–æ—Ä—Ç –∑–≤—ñ—Ç—ñ–≤ —É PDF/Excel
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –±—é–¥–∂–µ—Ç—É –Ω–∞ –º–∞–π–±—É—Ç–Ω—ñ –ø–µ—Ä—ñ–æ–¥–∏
- –ù–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–æ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—ñ–≤
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è –≤–∏—Ç—Ä–∞—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ML

### 3. UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –∑–≤—ñ—Ç—ñ–≤
- –ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫-–∫–æ–º–ø–∞–Ω—å–π–æ–Ω
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏–º–∏ API

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–∫–∏

**FinDotBot** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Å–æ–±–æ—é –¥–æ–±—Ä–µ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω—É —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—ñ–º–µ–π–Ω–∏–º –±—é–¥–∂–µ—Ç–æ–º –∑:

- üèóÔ∏è **Solid –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é** –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π
- üîí **–í–∏—Å–æ–∫–æ—é –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—é** –∑–∞–≤–¥—è–∫–∏ –º–Ω–æ–∂–∏–Ω–Ω–∏–º —Ä—ñ–≤–Ω—è–º –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
- üöÄ **–ü—Ä–æ—Å—Ç–æ—Ç–æ—é –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É** —á–µ—Ä–µ–∑ Docker —Ç–∞ Render
- üë• **–ó—Ä—É—á–Ω—ñ—Å—Ç—é –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** —á–µ—Ä–µ–∑ —ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–∏–π Telegram —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üåê **–•–º–∞—Ä–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é** –∑ Google Services

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Å—É—á–∞—Å–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ —Ä–æ–∑—Ä–æ–±–∫–∏ —á–∞—Ç-–±–æ—Ç—ñ–≤ –∑ –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å, –∑—Ä—É—á–Ω—ñ—Å—Ç—å —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å.

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –Ω–∞ –±–∞–∑—ñ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É –ø—Ä–æ–µ–∫—Ç—É FinDotBot*  
*–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è: –õ–∏–ø–µ–Ω—å 2025*